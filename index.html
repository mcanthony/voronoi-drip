<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge; chrome=1" />
        <title>Voronoi Drip</title>
    </head>
    <body>
        <script src="lib/Javascript-Voronoi/rhill-voronoi-core.js"></script>
        <script src="src/voronoi-network-generator.js"></script>
        <script src="src/display.js"></script>
        <script src="src/fluid-adder.js"></script>
        <script src="src/fluid-mover.js"></script>
        <script src="src/metrics.js"></script>
        <script src="src/target-calculator.js"></script>
        <script src="src/pressure-solver.js"></script>
        <script src="src/overlap-solver.js"></script>
        <script src="src/fluid-network-simulation.js"></script>
        <script src="src/update-loop.js"></script>
        <script src="src/voronoi-drip.js"></script>
        <script>
            var voronoi = new Voronoi();

            var networkGenerator = VoronoiDrip.VoronoiNetworkGenerator.create({
                voronoi: voronoi
            });

            var voronoiDrip = VoronoiDrip.create({
                width: 100,
                height: 500,
                pipeColour: "#eee",
                fluidColour: "#000",
                gravity: 10,
                timeout: 5,
                network: networkGenerator.generate(200, 100, 500)
            });

            voronoiDrip.start();

            document.body.onclick = function(e) {
                voronoiDrip.addFluid(50);
            };

/*
            var autoAdd = setInterval(function() {
                var pipe = Math.floor(Math.random() * voronoiDrip.network.length);
                // voronoiDrip.fpn.addFluid(voronoiDrip.fpn.pipes[pipe], voronoiDrip.fpn.pipes[pipe].va, 30);
                voronoiDrip.addFluid(50);
            }, 1000);

            var stop = function() {
                clearInterval(autoAdd);
                voronoiDrip.stop();
            };
*/
        </script>
    </body>
</html>