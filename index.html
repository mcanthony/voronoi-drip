<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge; chrome=1" />
        <title>Voronoi Drip</title>
    </head>
    <body>
        <script src="lib/Javascript-Voronoi/rhill-voronoi-core.js"></script>
        <script src="src/voronoi-network-generator.js"></script>
        <script src="src/display.js"></script>
        <script src="src/fluid-pipe-network.js"></script>
        <script src="src/voronoi-drip.js"></script>
        <script>
            var voronoi = new Voronoi();

            var networkGenerator = vd.createVoronoiNetworkGenerator({
                voronoi: voronoi
            });

            var voronoiDrip = vd.createVoronoiDrip({
                width: 500,
                height: 500,
                pipeColour: "#eee",
                fluidColour: "#000",
                gravity: 10,
                timeout: 5,
                network: networkGenerator.generate(20, 500, 500)
            });

            voronoiDrip.start();
            setInterval(function() {
                var pipe = Math.floor(Math.random() * voronoiDrip.fpn.pipes.length);
                // voronoiDrip.fpn.addFluid(voronoiDrip.fpn.pipes[pipe], voronoiDrip.fpn.pipes[pipe].va, 30);
                voronoiDrip.addFluid(50);
            }, 500)
        </script>
    </body>
</html>