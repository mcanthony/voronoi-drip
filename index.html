<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge; chrome=1" />
        <title>Voronoi Drip</title>
    </head>
    <body>
        <script src="js/lib/Javascript-Voronoi/rhill-voronoi-core.js"></script>
        <script src="js/app/voronoi-network-generator.js"></script>
        <script src="js/app/display.js"></script>
        <script src="js/app/fluid-adder.js"></script>
        <script src="js/app/fluid-mover.js"></script>
        <script src="js/app/metrics.js"></script>
        <script src="js/app/target-calculator.js"></script>
        <script src="js/app/pressure-solver.js"></script>
        <script src="js/app/overlap-solver.js"></script>
        <script src="js/app/fluid-network-simulation.js"></script>
        <script src="js/app/update-loop.js"></script>
        <script src="js/app/voronoi-drip.js"></script>
        <script>
            var voronoi = new Voronoi();

            var networkGenerator = VoronoiDrip.VoronoiNetworkGenerator.create({
                voronoi: voronoi
            });

            var width = 100,
                height = 500;

            var voronoiDrip = VoronoiDrip.create({
                width: width,
                height: height,
                pipeColour: "#eee",
                fluidColour: "#000",
                gravity: 10,
                timeout: 5,
                network: networkGenerator.generate(300, width, height)
            });

            voronoiDrip.start();
            voronoiDrip.play();

            document.body.onclick = function(e) {
                voronoiDrip.addFluid(150);
            };

/*
            var autoAdd = setInterval(function() {
                var pipe = Math.floor(Math.random() * voronoiDrip.network.length);
                // voronoiDrip.fpn.addFluid(voronoiDrip.fpn.pipes[pipe], voronoiDrip.fpn.pipes[pipe].va, 30);
                voronoiDrip.addFluid(5);
            }, 100);

            var stop = function() {
                clearInterval(autoAdd);
                voronoiDrip.stop();
            };*/

        </script>
    </body>
</html>